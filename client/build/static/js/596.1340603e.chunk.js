"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[596],{7691:function(e,s,n){n.r(s),n.d(s,{default:function(){return _}});var r=n(5861),a=n(1413),i=n(9439),t=n(7757),l=n.n(t),o=n(2791),c=n(6278),d=n(7046),u=n(6030),m=n(6958),p=n(3504),h=n(6871),x=n(184);var _=function(){var e=(0,o.useState)({userType:"",userAction:""}),s=(0,i.Z)(e,2),n=s[0],t=s[1],_=(0,o.useState)(""),g=(0,i.Z)(_,2),j=g[0],v=g[1],N=(0,o.useState)(""),f=(0,i.Z)(N,2),y=f[0],w=f[1],b=(0,o.useState)(""),k=(0,i.Z)(b,2),I=k[0],A=k[1],C=(0,o.useState)(""),F=(0,i.Z)(C,2),T=F[0],L=F[1],S=(0,o.useState)(""),E=(0,i.Z)(S,2),U=E[0],O=E[1],Z=(0,u.v9)((function(e){return(0,a.Z)({},e)})),D=Z.user,q=Z.showLoginForm,G=(0,u.I0)(),P=(0,h.s0)(),R=(0,o.useState)(!1),W=(0,i.Z)(R,2),z=W[0],B=W[1];(0,o.useEffect)((function(){D&&"Admin"==D.role&&P("/admin/dashboard")}),[D]),(0,o.useEffect)((function(){q&&t({userType:"User",userAction:"Login"})}),[q]);var M=function(){var e=(0,r.Z)(l().mark((function e(s){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),B(!0),e.next=4,d.I8.signInWithEmailAndPassword(j,y);case 4:return e.next=6,d.I8.currentUser.getIdToken();case 6:n=e.sent,(0,m.ar)(n).then((function(e){G({type:"LOGGED_IN_USER",payload:e.data}),B(!1),"Admin"==e.data.role&&P("/admin/dashboard"),t({userType:"",userAction:""})}));case 8:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),Y=function(){var e=(0,r.Z)(l().mark((function e(s){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),B(!0),r={email:j,first_name:I,last_name:T,address:U,gender:"male",role:n.userType},e.prev=3,e.next=6,d.I8.createUserWithEmailAndPassword(j,y);case 6:return e.next=8,d.I8.currentUser.getIdToken();case 8:a=e.sent,(0,m.XB)(a,r).then((function(e){G({type:"LOGGED_IN_USER",payload:e.data})})),B(!1),t({userType:"",userAction:""}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(s){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"header",children:[(0,x.jsx)(c.Z,{show:""!==n.userType&&""!==n.userAction,onHide:function(){return t({userType:"",userAction:""})},children:(0,x.jsx)("div",{className:"modal-content",children:(0,x.jsxs)("div",{className:"loginForm",children:["Login"==n.userAction?(0,x.jsxs)("div",{className:"loginForm__body",children:[(0,x.jsx)("div",{className:"loginForm__bodyImage",children:(0,x.jsx)("img",{src:"https://res.cloudinary.com/dj1rgwak8/image/upload/v1642616021/loginimg.jpg",alt:""})}),(0,x.jsxs)("form",{className:"loginForm__content",children:[(0,x.jsxs)("div",{className:"loginForm__input",children:[(0,x.jsx)("input",{value:j,onChange:function(e){return v(e.target.value)},type:"text",required:!0}),(0,x.jsx)("label",{children:"Enter Email Address"})]}),(0,x.jsxs)("div",{className:"loginForm__input",children:[(0,x.jsx)("input",{value:y,onChange:function(e){return w(e.target.value)},type:"password",required:!0}),(0,x.jsx)("label",{children:"Enter Password"})]}),(0,x.jsx)("button",{className:"loginForm_submit",onClick:M,disabled:z,children:z?(0,x.jsx)("div",{className:"spinner-container",children:(0,x.jsx)("div",{className:"spinner-border text-light",role:"status",children:(0,x.jsx)("span",{className:"sr-only"})})}):"Login"}),(0,x.jsx)("p",{onClick:function(){return t({userType:n.userType,userAction:"Register"})},className:"login_link",style:{color:"#2874f0",textDecoration:"none",fontWeight:"500",cursor:"pointer"},children:"Create an account"})]}),(0,x.jsxs)("div",{className:"login__text1",children:[n.userType," Login"]}),(0,x.jsx)("div",{className:"login__text2",children:"Get access to your Orders, Wishlist and Recommendations"})]}):(0,x.jsxs)("div",{className:"loginForm__body",children:[(0,x.jsx)("div",{className:"loginForm__bodyImage",children:(0,x.jsx)("img",{src:"https://res.cloudinary.com/dj1rgwak8/image/upload/v1642616021/loginimg.jpg",alt:""})}),(0,x.jsxs)("form",{className:"loginForm__content",children:[(0,x.jsxs)("div",{className:"loginForm__input",children:[(0,x.jsx)("input",{value:I,onChange:function(e){return A(e.target.value)},type:"text",required:!0}),(0,x.jsx)("label",{children:"Enter Your First Name"})]}),(0,x.jsxs)("div",{className:"loginForm__input",children:[(0,x.jsx)("input",{value:T,onChange:function(e){return L(e.target.value)},type:"text",required:!0}),(0,x.jsx)("label",{children:"Enter Your Last Name"})]}),(0,x.jsxs)("div",{className:"loginForm__input",children:[(0,x.jsx)("input",{value:U,onChange:function(e){return O(e.target.value)},type:"text",required:!0}),(0,x.jsx)("label",{children:"Enter Your Address"})]}),(0,x.jsxs)("div",{className:"loginForm__input",children:[(0,x.jsx)("input",{value:j,onChange:function(e){return v(e.target.value)},type:"text",required:!0}),(0,x.jsx)("label",{children:"Enter Email Address"})]}),(0,x.jsxs)("div",{className:"loginForm__input",children:[(0,x.jsx)("input",{value:y,onChange:function(e){return w(e.target.value)},type:"password",required:!0}),(0,x.jsx)("label",{children:"Enter Password"})]}),(0,x.jsx)("button",{className:"loginForm_submit",onClick:Y,disabled:z,children:z?(0,x.jsx)("div",{className:"spinner-container",children:(0,x.jsx)("div",{className:"spinner-border text-light",role:"status",children:(0,x.jsx)("span",{className:"sr-only"})})}):"Register"}),(0,x.jsx)("p",{className:"login_link",style:{color:"#2874f0",textDecoration:"none",fontWeight:"500",cursor:"pointer"},onClick:function(){return t({userType:n.userType,userAction:"Login"})},children:"Login to your account"})]}),(0,x.jsxs)("div",{className:"login__text1",children:[n.userType," Sign Up"]}),(0,x.jsx)("div",{className:"login__text2",children:"Sign up with your email address to get started"})]}),(0,x.jsx)("button",{type:"button",onClick:function(){t({userType:"",userAction:""}),G({type:"SHOW_LOGIN_FORM",payload:!1})},className:"loginForm_close",children:(0,x.jsx)("span",{className:"material-icons",children:"close"})})]})})}),(0,x.jsxs)(p.rU,{className:"header__logo",to:"/",style:{textDecoration:"none"},children:[(0,x.jsx)("img",{className:"header__logoImage",src:"https://static-assets-web.flixcart.com/www/linchpin/fk-cp-zion/img/flipkart-plus_8d85f4.png",alt:""}),(0,x.jsxs)("div",{className:"header__logoText",children:["Explore ",(0,x.jsxs)("span",{children:["Plus",(0,x.jsx)("img",{src:"https://static-assets-web.flixcart.com/www/linchpin/fk-cp-zion/img/plus_aef861.png",alt:""})]})]})]}),(0,x.jsxs)("form",{className:"header__search",children:[(0,x.jsx)("input",{className:"header__searchInput",type:"text",placeholder:"Search for products, brands and more"}),(0,x.jsx)("input",{className:"header__searchIcon material-icons",type:"submit",value:"search"})]}),(0,x.jsxs)("div",{className:"header__userLogin",children:[(0,x.jsx)("button",{className:"header__userLoginBtn",onClick:function(){return t(D?{userType:"",userAction:""}:{userType:"User",userAction:"Login"})},style:D?{color:"white",backgroundColor:"#2874F0",border:"none",display:"flex",alignItems:"center",padding:"3px 20px"}:{},children:D?(0,x.jsxs)("div",{children:[D.first_name," ",(0,x.jsx)("span",{style:{fontSize:"16px",padding:"3px 2px"},className:"material-icons",children:"keyboard_arrow_down"})]}):"Login"}),(0,x.jsxs)("div",{className:"header__dropdown",style:{left:"-35px"},children:[(0,x.jsx)("div",{style:{height:"17px",display:"flex",justifyContent:"center",color:"white"},children:(0,x.jsx)("span",{className:"material-icons",style:{fontSize:"30px"},children:"eject"})}),(0,x.jsxs)("div",{style:{boxShadow:"0 0px 10px 0 rgb(0 0 0 / 20%)"},children:[D?"":(0,x.jsxs)("div",{className:"header__dropdownItem",children:["New customer?",(0,x.jsx)("a",{className:"login_link",onClick:function(){return t({userType:"User",userAction:"Register"})},children:"Sign Up"})]}),(0,x.jsxs)(p.rU,{className:"header__dropdownItem",to:"/profile",style:{color:"black"},children:[(0,x.jsx)("span",{className:"material-icons",children:"account_circle"})," My Profile"]}),(0,x.jsxs)(p.rU,{className:"header__dropdownItem",to:"/orders",style:{color:"black"},children:[(0,x.jsx)("span",{className:"material-icons",children:"drive_folder_upload"}),"Orders"]}),(0,x.jsxs)("div",{className:"header__dropdownItem",children:[(0,x.jsx)("span",{className:"material-icons",children:"favorite"})," Wishlists"]}),D?(0,x.jsx)("form",{children:(0,x.jsxs)("div",{className:"header__dropdownItem adminLoginBtn",onClick:function(){d.I8.signOut(),G({type:"LOGOUT",payload:null})},children:[(0,x.jsx)("span",{className:"material-icons",children:"power_settings_new"})," Log out"]})}):(0,x.jsxs)("div",{className:"header__dropdownItem adminLoginBtn",onClick:function(){return t({userType:"Admin",userAction:"Login"})},children:[(0,x.jsx)("span",{className:"material-icons",children:"admin_panel_settings"})," Admin Login"]})]})]})]}),(0,x.jsxs)("div",{className:"header__moreOptions",children:["More",(0,x.jsx)("span",{className:"material-icons",children:"keyboard_arrow_down"}),(0,x.jsxs)("div",{className:"header__dropdown",children:[(0,x.jsx)("div",{style:{height:"17px",display:"flex",justifyContent:"center",color:"white"},children:(0,x.jsx)("span",{style:{fontSize:"30px"},className:"material-icons",children:"eject"})}),(0,x.jsxs)("div",{style:{boxShadow:"0 0px 10px 0 rgb(0 0 0 / 20%)"},children:[(0,x.jsxs)("div",{className:"header__dropdownItem",children:[(0,x.jsx)("span",{className:"material-icons",children:"notifications"})," Notification Preferences"]}),(0,x.jsxs)("div",{className:"header__dropdownItem",children:[(0,x.jsx)("span",{className:"material-icons",children:"work"})," Sell On Flipkart"]}),(0,x.jsxs)("div",{className:"header__dropdownItem",children:[(0,x.jsx)("span",{className:"material-icons",children:"live_help"})," 24x7 Customer Support"]}),(0,x.jsxs)("div",{className:"header__dropdownItem",children:[(0,x.jsx)("span",{className:"material-icons",children:"trending_up"})," Advertise"]}),(0,x.jsxs)("div",{className:"header__dropdownItem",children:[(0,x.jsx)("span",{className:"material-icons",children:"file_download"})," Download App"]})]})]})]}),(0,x.jsx)("div",{className:"header__cart",children:(0,x.jsxs)(p.rU,{to:"/cart",children:[(0,x.jsx)("span",{className:"header__cartIcon material-icons",children:"shopping_cart"}),"Cart"]})})]})}}}]);
//# sourceMappingURL=596.1340603e.chunk.js.map